{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport React, { useEffect, useState } from 'react';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nvar src1 = function src1(_ref) {\n  var addOrUpdateItem = _ref.addOrUpdateItem,\n    removeItem = _ref.removeItem;\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    list = _useState2[0],\n    setList = _useState2[1];\n  var _useState3 = useState(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    close = _useState4[0],\n    setClose = _useState4[1];\n  var _useState5 = useState(\"\"),\n    _useState6 = _slicedToArray(_useState5, 2),\n    name = _useState6[0],\n    setName = _useState6[1];\n  var _useState7 = useState(0),\n    _useState8 = _slicedToArray(_useState7, 2),\n    gender = _useState8[0],\n    setGender = _useState8[1];\n  var _useState9 = useState(null),\n    _useState10 = _slicedToArray(_useState9, 2),\n    id = _useState10[0],\n    setId = _useState10[1];\n  useEffect(function () {\n    getList();\n  }, []);\n  var getList = function getList() {\n    fetch(\"https://654de1d3cbc325355742011e.mockapi.io/jb\", {\n      method: \"GET\"\n    }).then(function (res) {\n      return res.json();\n    }).then(function (res) {\n      console.log(res);\n      if (res) {\n        setList(res);\n      }\n    }).catch(function (err) {\n      console.log(err);\n    });\n  };\n  var save = function save(item) {\n    if (!name || !gender) {\n      console.log(\"Nhap di dcm\");\n      return;\n    }\n    var genderValue = gender.toLowerCase() === \"male\" ? 1 : 0;\n    var newData = {\n      name: name,\n      gender: genderValue\n    };\n    var apiEndpoint = id ? `https://654de1d3cbc325355742011e.mockapi.io/jb/${id}` : \"https://654de1d3cbc325355742011e.mockapi.io/jb\";\n    var method = id ? \"PUT\" : \"POST\";\n    fetch(apiEndpoint, {\n      method: method,\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(newData)\n    }).then(function (res) {\n      return res.json();\n    }).then(function (res) {\n      console.log(res);\n      if (id) {\n        setList(function (preList) {\n          return preList.map(function (item) {\n            return item.id === id ? res : item;\n          });\n        });\n      } else {\n        setList(function (preList) {\n          return [].concat(_toConsumableArray(preList), [res]);\n        });\n      }\n      setClose(false);\n      setName(\"\");\n      setGender(0);\n      setId(null);\n    }).catch(function (err) {\n      console.log(err);\n    });\n  };\n  return _jsx(View, {\n    children: _jsx(Text, {\n      children: \"src1\"\n    })\n  });\n};\nexport default src1;\nvar styles = StyleSheet.create({});","map":{"version":3,"names":["React","useEffect","useState","jsx","_jsx","src1","_ref","addOrUpdateItem","removeItem","_useState","_useState2","_slicedToArray","list","setList","_useState3","_useState4","close","setClose","_useState5","_useState6","name","setName","_useState7","_useState8","gender","setGender","_useState9","_useState10","id","setId","getList","fetch","method","then","res","json","console","log","catch","err","save","item","genderValue","toLowerCase","newData","apiEndpoint","headers","body","JSON","stringify","preList","map","concat","_toConsumableArray","View","children","Text","styles","StyleSheet","create"],"sources":["D:/MBWEB/ck - Copy/ck/src/src1.js"],"sourcesContent":["import { StyleSheet, Text, View } from 'react-native'\r\nimport React, { useEffect, useState } from 'react'\r\n\r\nconst src1 = ({ addOrUpdateItem,  removeItem}) => {\r\n\r\n    const [list, setList] = useState([])\r\n    const [close, setClose] = useState(false)\r\n    const [name, setName] = useState(\"\")\r\n    const [gender, setGender] = useState(0)\r\n    const [id, setId] = useState(null)\r\n\r\n    useEffect(() => {\r\n        getList();\r\n    }, [])\r\n    const getList = () => {\r\n        fetch(\"https://654de1d3cbc325355742011e.mockapi.io/jb\", {\r\n            method: \"GET\"\r\n        }).then(res =>{\r\n            return res.json()\r\n        }).then(res =>{\r\n            console.log(res)\r\n            if(res){\r\n                setList(res);\r\n            }\r\n        }).catch(err => {\r\n            console.log(err)\r\n        })\r\n    }\r\n\r\n    const save = (item) => {\r\n\r\n        if (!name || !gender){\r\n            console.log(\"Nhap di dcm\");\r\n            return;\r\n        }\r\n        const genderValue = gender.toLowerCase() === \"male\" ? 1:0;\r\n\r\n        const newData = {\r\n            name: name,\r\n            gender: genderValue,\r\n        };\r\n\r\n        const apiEndpoint = id\r\n        ? `https://654de1d3cbc325355742011e.mockapi.io/jb/${id}`\r\n        : \"https://654de1d3cbc325355742011e.mockapi.io/jb\";\r\n\r\n        const method = id ? \"PUT\" : \"POST\";\r\n\r\n        fetch(apiEndpoint, {\r\n            method: method,\r\n            headers: {\r\n                \"Content-Type\": \"application/json\",\r\n            },\r\n            body: JSON.stringify(newData),\r\n\r\n        })\r\n            .then((res) => res.json())\r\n            .then((res) => {\r\n                console.log(res);\r\n\r\n                if(id) {\r\n                    setList((preList) =>\r\n                        preList.map((item) => (item.id === id ? res : item))\r\n                    );\r\n                }else{\r\n                    setList((preList) => [...preList, res]);\r\n                }\r\n                setClose(false);\r\n                setName(\"\");\r\n                setGender(0);\r\n                setId(null);\r\n            }) \r\n            .catch((err) =>{\r\n                console.log(err);\r\n            })\r\n            \r\n\r\n    }\r\n\r\n  return (\r\n    <View>\r\n      <Text>src1</Text>\r\n    </View>\r\n  )\r\n}\r\n\r\nexport default src1\r\n\r\nconst styles = StyleSheet.create({})"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}